<DOCTYPE! html>
<html>
<body>
<div id='jsWidth'></div>
<div id='jsHeight'></div>
<button onclick="drawSomething()">test</button>
<br>
<div id='canvasSpot'></div>

<script type="text/javascript">

function jsUpdateSize(){
    var width = window.innerWidth ||
                document.documentElement.clientWidth ||
                document.body.clientWidth;
    var height = window.innerHeight ||
                 document.documentElement.clientHeight ||
                 document.body.clientHeight;
    //make these variables global
    window.width=width;
    window.height=height;

    document.getElementById('jsWidth').innerHTML = width;  // Display the width
    document.getElementById('jsHeight').innerHTML = height;// Display the height
    //document.getElementById('canvasSpot').removeChild(canvas);
   	var canvas = document.createElement('canvas');
    canvas.width=width;
    canvas.height=height-100;
    canvas.id="drawHere";
    document.getElementById('canvasSpot').appendChild(canvas);
};
function drawSomething(){

    var c=document.getElementById("drawHere");
	var ctx=c.getContext("2d");
	ctx.clearRect(0,0,width,height);
	var rectWidth=((width-25)/4)-25;
	var rectHeight=(((height-100)-25)/4)-25;
	var j=0;
	while(j<4){
		var i=0;
		while(i<4){
		ctx.fillStyle="red";
		ctx.fillRect(25+rectWidth*i+25*i,25+rectHeight*j+25*j,rectWidth,rectHeight);
		i++
	}
	j++
	}
	
	document.getElementById('jsWidth').innerHTML=rectWidth;
}

window.onload = jsUpdateSize;       // When the page first loads
window.onresize = jsUpdateSize;     // When the browser changes size
</script>

</body>
</html>